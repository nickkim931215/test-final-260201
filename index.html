<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¼ìŠ¤ë„ ì»¬ëŸ¬ ì§„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            animation: gradientShift 10s ease infinite;
            background-size: 200% 200%;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: flex;
        }

        .main-content {
            flex: 1;
            min-width: 0;
        }

        .director-panel {
            width: 350px;
            background: linear-gradient(180deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            display: none;
            flex-direction: column;
            border-left: 3px solid #f093fb;
        }

        .director-panel.active {
            display: flex;
        }

        .director-avatar-large {
            font-size: 4em;
            text-align: center;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .director-speech {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            margin-bottom: 20px;
        }

        .director-speech::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 20px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid white;
        }

        .director-speech h3 {
            color: #d63384;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .director-speech p {
            color: #555;
            line-height: 1.6;
            font-size: 0.95em;
        }

        .director-tip {
            background: rgba(255, 255, 255, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content {
            padding: 40px;
        }

        h1 {
            font-size: 2.5em;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .director-intro {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .director-avatar {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .director-name {
            font-size: 1.3em;
            font-weight: 700;
            color: #d63384;
            margin-bottom: 5px;
        }

        .director-title {
            font-size: 0.9em;
            color: #666;
        }

        .director-message {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .director-message::before {
            content: "ğŸ‘©â€âš•ï¸";
            position: absolute;
            left: -15px;
            top: -15px;
            font-size: 2em;
            background: white;
            border-radius: 50%;
            padding: 5px;
        }

        .director-message p {
            margin: 0;
            color: #d63384;
            font-weight: 600;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .btn {
            width: 100%;
            padding: 18px;
            font-size: 1.1em;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-number {
            text-align: center;
            color: #999;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.4em;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            text-align: center;
            font-size: 1.05em;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.02);
        }

        .navigation {
            display: flex;
            gap: 15px;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
            box-shadow: none;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .result-header {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .result-type {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .result-subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .result-section {
            padding: 30px 40px;
            border-bottom: 1px solid #f0f0f0;
        }

        .result-section:last-child {
            border-bottom: none;
        }

        .result-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .result-section p {
            color: #666;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
            gap: 12px;
            margin-top: 20px;
        }

        .color-item {
            aspect-ratio: 1;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 8px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .color-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.2) 100%);
        }

        .color-item:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        }

        .color-name {
            font-size: 0.7em;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .palette-section {
            margin-bottom: 25px;
        }

        .palette-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #555;
            margin-bottom: 15px;
            padding-left: 10px;
            border-left: 4px solid #667eea;
        }

        .tips-list {
            list-style: none;
        }

        .tips-list li {
            padding: 12px;
            background: #f8f9ff;
            margin-bottom: 10px;
            border-radius: 8px;
            color: #555;
            padding-left: 40px;
            position: relative;
        }

        .tips-list li:before {
            content: "âœ“";
            position: absolute;
            left: 15px;
            color: #667eea;
            font-weight: bold;
            font-size: 1.2em;
        }

        .celebrities {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .celebrity-tag {
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-share {
            flex: 1;
            padding: 12px;
            font-size: 0.95em;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-kakao {
            background: #FEE500;
            color: #000;
        }

        .btn-kakao:hover {
            background: #FDD800;
        }

        .btn-download {
            background: #4CAF50;
            color: white;
        }

        .btn-download:hover {
            background: #45a049;
        }

        @media (max-width: 1000px) {
            .container {
                flex-direction: column;
            }

            .director-panel {
                width: 100%;
                border-left: none;
                border-top: 3px solid #f093fb;
            }
        }

        @media (max-width: 600px) {
            .content {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2em;
            }

            .question-text {
                font-size: 1.2em;
            }

            .result-type {
                font-size: 2em;
            }

            .color-palette {
                grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            }

            .director-panel {
                padding: 20px;
            }

            .director-avatar-large {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="screen active" id="startScreen">
            <div class="content">
                <h1>âœ¨ í¼ìŠ¤ë„ ì»¬ëŸ¬ ì§„ë‹¨</h1>

                <div class="director-intro">
                    <div class="director-avatar">ğŸ‘©â€âš•ï¸</div>
                    <div class="director-name">ì±„ì•ˆ ì›ì¥</div>
                    <div class="director-title">í¼ìŠ¤ë„ ì»¬ëŸ¬ ì „ë¬¸ê°€</div>
                </div>

                <p class="subtitle">
                    ì•ˆë…•í•˜ì„¸ìš”! ì±„ì•ˆ ì›ì¥ì…ë‹ˆë‹¤. ğŸ’â€â™€ï¸<br>
                    ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì»¬ëŸ¬ë¥¼ í•¨ê»˜ ì°¾ì•„ë³¼ê¹Œìš”?<br>
                    ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ë‹¹ì‹ ë§Œì˜ í¼ìŠ¤ë„ ì»¬ëŸ¬ íƒ€ì…ì„ ì•Œë ¤ë“œë¦´ê²Œìš”!
                </p>
                <button class="btn" onclick="startTest()">ğŸ¨ ì±„ì•ˆ ì›ì¥ê³¼ ì§„ë‹¨ ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div class="screen" id="questionScreen">
            <div class="content">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="director-message">
                    <p id="directorAdvice">ì±„ì•ˆ ì›ì¥: í¸ì•ˆí•˜ê²Œ ì§ê´€ì ìœ¼ë¡œ ì„ íƒí•´ì£¼ì„¸ìš”! ğŸ’â€â™€ï¸</p>
                </div>
                <div class="question-number" id="questionNumber"></div>
                <h2 class="question-text" id="questionText"></h2>
                <div class="options" id="optionsContainer"></div>
                <div class="navigation">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display: none;">â¬…ï¸ ì´ì „</button>
                    <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>ë‹¤ìŒ â¡ï¸</button>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="screen" id="resultScreen">
            <div class="result-header">
                <div style="font-size: 2em; margin-bottom: 10px;">ğŸ‘©â€âš•ï¸</div>
                <div class="result-type" id="resultType"></div>
                <div class="result-subtitle" id="resultSubtitle"></div>
            </div>

            <div class="result-section" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
                <h2>ğŸ‘©â€âš•ï¸ ì±„ì•ˆ ì›ì¥ì˜ ì§„ë‹¨</h2>
                <p id="resultDescription" style="font-weight: 500; color: #333;"></p>
            </div>

            <div class="result-section">
                <h2>ğŸ¨ ì±„ì•ˆ ì›ì¥ ì¶”ì²œ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸</h2>
                <div id="allPalettes"></div>
            </div>

            <div class="result-section">
                <h2>ğŸ’„ ì±„ì•ˆ ì›ì¥ì˜ ìŠ¤íƒ€ì¼ë§ íŒ</h2>
                <ul class="tips-list" id="tipsList"></ul>
            </div>

            <div class="result-section">
                <h2>âš ï¸ ì±„ì•ˆ ì›ì¥: ì´ ìƒ‰ìƒì€ í”¼í•˜ì„¸ìš”!</h2>
                <p id="avoidColors" style="font-weight: 500;"></p>
            </div>

            <div class="result-section">
                <h2>ğŸŒŸ ê°™ì€ íƒ€ì… ìœ ëª…ì¸</h2>
                <p style="color: #666; margin-bottom: 15px;">ì±„ì•ˆ ì›ì¥ì´ ì„ ì •í•œ ëŒ€í‘œ ì—°ì˜ˆì¸ë“¤ì´ì—ìš”!</p>
                <div class="celebrities" id="celebrities"></div>
            </div>

            <div class="result-section">
                <div class="share-buttons">
                    <button class="btn-share btn-kakao" onclick="shareKakao()">ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
                    <button class="btn-share btn-download" onclick="downloadResult()">ê²°ê³¼ ì €ì¥</button>
                </div>
                <button class="btn" onclick="restartTest()" style="margin-top: 15px;">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
        </div>
        </div>

        <!-- ì±„ì•ˆ ì›ì¥ íŒ¨ë„ -->
        <div class="director-panel" id="directorPanel">
            <div class="director-avatar-large">ğŸ‘©â€âš•ï¸</div>
            <div class="director-speech">
                <h3>ğŸ’• ì±„ì•ˆ ì›ì¥</h3>
                <p id="directorComment">ì•ˆë…•í•˜ì„¸ìš”! í¼ìŠ¤ë„ ì»¬ëŸ¬ ì „ë¬¸ê°€ ì±„ì•ˆì…ë‹ˆë‹¤.</p>
            </div>
            <div class="director-tip" id="directorExtraTip">
                ğŸ’¡ í¸ì•ˆí•˜ê²Œ ì§ê´€ì ìœ¼ë¡œ ë‹µë³€í•´ì£¼ì„¸ìš”!
            </div>
        </div>
    </div>

    <script>
        // ì§ˆë¬¸ ë°ì´í„° (6ê°œë¡œ ì¶•ì†Œ, ë” ì‹¬ë„ìˆê²Œ)
        const questions = [
            {
                question: "ìì—°ê´‘ì—ì„œ ì†ëª© ì•ˆìª½ì„ ë´¤ì„ ë•Œ, í˜ˆê´€ ìƒ‰ìƒê³¼ í”¼ë¶€ ëŠë‚Œì€?",
                directorComment: "í˜ˆê´€ ìƒ‰ìƒì€ í¼ìŠ¤ë„ ì»¬ëŸ¬ë¥¼ íŒë‹¨í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ê¸°ì¤€ ì¤‘ í•˜ë‚˜ì˜ˆìš”! ìì—°ê´‘ì—ì„œ ì •í™•íˆ ê´€ì°°í•´ì£¼ì„¸ìš”.",
                directorTip: "ğŸ’¡ í˜•ê´‘ë“± ì•„ë˜ê°€ ì•„ë‹Œ ì°½ê°€ì—ì„œ í™•ì¸í•˜ì„¸ìš”!",
                options: [
                    { text: "ì´ˆë¡ë¹› í˜ˆê´€ + ë”°ëœ»í•˜ê³  ë…¸ë€ê¸° ë„ëŠ” í”¼ë¶€", scores: { spring: 4, summer: 0, autumn: 4, winter: 0 } },
                    { text: "ì´ˆë¡ë¹› í˜ˆê´€ + ë°ê³  íˆ¬ëª…í•œ í”¼ë¶€", scores: { spring: 4, summer: 1, autumn: 2, winter: 0 } },
                    { text: "íŒŒë€ë¹› í˜ˆê´€ + ë¶€ë“œëŸ½ê³  ì€ì€í•œ í”¼ë¶€", scores: { spring: 0, summer: 4, autumn: 0, winter: 2 } },
                    { text: "íŒŒë€ë¹› í˜ˆê´€ + ì°¨ê°‘ê³  ë§‘ì€ í”¼ë¶€", scores: { spring: 0, summer: 1, autumn: 0, winter: 4 } }
                ]
            },
            {
                question: "ê³¨ë“œ ì•¡ì„¸ì„œë¦¬ vs ì‹¤ë²„ ì•¡ì„¸ì„œë¦¬ë¥¼ ì°©ìš©í–ˆì„ ë•Œ, ì–´ëŠ ìª½ì´ ë” í”¼ë¶€ì™€ ìì—°ìŠ¤ëŸ½ê²Œ ì–´ìš¸ë¦¬ë‚˜ìš”?",
                directorComment: "ì•¡ì„¸ì„œë¦¬ í…ŒìŠ¤íŠ¸ëŠ” ì›œí†¤ê³¼ ì¿¨í†¤ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ì—ìš”. ê±°ìš¸ì„ ë³´ê³  ì–´ëŠ ìª½ì´ ë” ì–¼êµ´ì„ í™˜í•˜ê²Œ ë§Œë“œëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!",
                directorTip: "ğŸ’¡ ê³¨ë“œ=ì›œí†¤, ì‹¤ë²„=ì¿¨í†¤ì˜ ê¸°ë³¸ ì›ì¹™!",
                options: [
                    { text: "ê³¨ë“œê°€ í›¨ì”¬ ì˜ ì–´ìš¸ë¦°ë‹¤", scores: { spring: 4, summer: 0, autumn: 4, winter: 0 } },
                    { text: "ê³¨ë“œê°€ ì•½ê°„ ë” ì–´ìš¸ë¦°ë‹¤", scores: { spring: 3, summer: 1, autumn: 3, winter: 0 } },
                    { text: "ì‹¤ë²„ê°€ ì•½ê°„ ë” ì–´ìš¸ë¦°ë‹¤", scores: { spring: 0, summer: 3, autumn: 0, winter: 3 } },
                    { text: "ì‹¤ë²„ê°€ í›¨ì”¬ ì˜ ì–´ìš¸ë¦°ë‹¤", scores: { spring: 0, summer: 4, autumn: 0, winter: 4 } }
                ]
            },
            {
                question: "ëˆˆë™ì, ë¨¸ë¦¬ì¹´ë½ ìƒ‰ìƒê³¼ í–‡ë³• ë°˜ì‘ì€?",
                directorComment: "ëˆˆë™ìì™€ ë¨¸ë¦¬ì¹´ë½ì˜ ìƒ‰ê¹”, ê·¸ë¦¬ê³  ìì™¸ì„ ì— ëŒ€í•œ í”¼ë¶€ ë°˜ì‘ì€ ê³„ì ˆ íƒ€ì…ì„ ì„¸ë¶„í™”í•˜ëŠ” í•µì‹¬ ìš”ì†Œì˜ˆìš”!",
                directorTip: "ğŸ’¡ ë°ì€ = Spring/Summer, ì§„í•œ = Autumn/Winter",
                options: [
                    { text: "ë°ì€ ê°ˆìƒ‰ ëˆˆë™ì/ë¨¸ë¦¬ + í–‡ë³•ì— ë¹¨ê°œì¡Œë‹¤ ê°ˆìƒ‰ìœ¼ë¡œ", scores: { spring: 4, summer: 1, autumn: 2, winter: 0 } },
                    { text: "íšŒê°ˆìƒ‰/ë¶€ë“œëŸ¬ìš´ ê°ˆìƒ‰ + ì‰½ê²Œ ë¹¨ê°œì§€ê³  ì˜ ì•ˆíƒ", scores: { spring: 1, summer: 4, autumn: 0, winter: 1 } },
                    { text: "ì§™ì€ ê°ˆìƒ‰/í™©ê°ˆìƒ‰ + ì˜ íƒ€ê³  ê°ˆìƒ‰ìœ¼ë¡œ ë³€í•¨", scores: { spring: 1, summer: 0, autumn: 4, winter: 1 } },
                    { text: "ìƒˆê¹Œë§Œ í‘ìƒ‰ + ê±°ì˜ íƒ€ì§€ ì•ŠìŒ", scores: { spring: 0, summer: 1, autumn: 1, winter: 4 } }
                ]
            },
            {
                question: "í°ìƒ‰ vs ì•„ì´ë³´ë¦¬ ì˜·ì„ ì…ì—ˆì„ ë•Œ, ê·¸ë¦¬ê³  ê²€ì€ìƒ‰ ì˜·ì„ ì…ì—ˆì„ ë•Œì˜ ëŠë‚Œì€?",
                directorComment: "ì´ ì§ˆë¬¸ì€ ì •ë§ ì¤‘ìš”í•´ìš”! í°ìƒ‰ê³¼ ì•„ì´ë³´ë¦¬ëŠ” ì¿¨í†¤/ì›œí†¤ì„, ê²€ì€ìƒ‰ì€ ëª…ë„(ë°ê¸°)ë¥¼ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.",
                directorTip: "ğŸ’¡ ê±°ìš¸ì„ ë³´ë©° ì–¼êµ´ì´ í™˜í•´ì§€ëŠ”ì§€, ì¹™ì¹™í•´ì§€ëŠ”ì§€ ê´€ì°°í•˜ì„¸ìš”!",
                options: [
                    { text: "ì•„ì´ë³´ë¦¬ê°€ ì˜ ì–´ìš¸ë¦¼ + ê²€ì •ì€ ì–¼êµ´ì´ ì–´ë‘ì›Œì§", scores: { spring: 4, summer: 0, autumn: 3, winter: 0 } },
                    { text: "ì•„ì´ë³´ë¦¬ê°€ ì˜ ì–´ìš¸ë¦¼ + ê²€ì •ë„ ê´œì°®ìŒ", scores: { spring: 2, summer: 0, autumn: 4, winter: 0 } },
                    { text: "í°ìƒ‰ì´ ì˜ ì–´ìš¸ë¦¼ + ê²€ì •ì€ ì–¼êµ´ì´ ì–´ë‘ì›Œì§", scores: { spring: 0, summer: 4, autumn: 0, winter: 2 } },
                    { text: "í°ìƒ‰ì´ ì˜ ì–´ìš¸ë¦¼ + ê²€ì •ë„ ë˜ë ·í•˜ê³  ì¢‹ìŒ", scores: { spring: 0, summer: 2, autumn: 0, winter: 4 } }
                ]
            },
            {
                question: "ê°€ì¥ ì¹­ì°¬ì„ ë§ì´ ë°›ì•˜ë˜ ì»¬ëŸ¬ì™€ ì–¼êµ´ ì¸ìƒì€?",
                directorComment: "ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ë°˜ì‘ë„ ì¤‘ìš”í•œ íŒíŠ¸ì˜ˆìš”! ì–´ë–¤ ìƒ‰ì„ ì…ì—ˆì„ ë•Œ 'ì˜ ì–´ìš¸ë¦°ë‹¤', 'ì•ˆìƒ‰ì´ ì¢‹ì•„ ë³´ì¸ë‹¤'ëŠ” ë§ì„ ë“¤ìœ¼ì…¨ë‚˜ìš”?",
                directorTip: "ğŸ’¡ ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ì¹­ì°¬ì— ê·€ ê¸°ìš¸ì—¬ë³´ì„¸ìš”!",
                options: [
                    { text: "ì½”ë„/í”¼ì¹˜/ë² ì´ì§€ + ë°ê³  ìƒê¸°ìˆëŠ” ì¸ìƒ", scores: { spring: 4, summer: 1, autumn: 1, winter: 0 } },
                    { text: "ë¼ë²¤ë”/ë¡œì¦ˆí•‘í¬/ë¯¼íŠ¸ + ë¶€ë“œëŸ½ê³  ìš°ì•„í•œ ì¸ìƒ", scores: { spring: 1, summer: 4, autumn: 0, winter: 1 } },
                    { text: "ì¹´í‚¤/í…Œë¼ì½”íƒ€/ì˜¬ë¦¬ë¸Œ + ì°¨ë¶„í•˜ê³  ì„±ìˆ™í•œ ì¸ìƒ", scores: { spring: 1, summer: 0, autumn: 4, winter: 1 } },
                    { text: "ë„¤ì´ë¹„/ë²„ê±´ë””/ë¸”ë™ + ì‹œì›í•˜ê³  ë„ì‹œì ì¸ ì¸ìƒ", scores: { spring: 0, summer: 1, autumn: 1, winter: 4 } }
                ]
            },
            {
                question: "ë¦½ìŠ¤í‹±ê³¼ ë¸”ëŸ¬ì…” ì»¬ëŸ¬ ì¤‘ ê°€ì¥ ìì—°ìŠ¤ëŸ½ê³  ì˜ ì–´ìš¸ë¦¬ëŠ” ê³„ì—´ì€?",
                directorComment: "ë©”ì´í¬ì—… ì»¬ëŸ¬ëŠ” í¼ìŠ¤ë„ ì»¬ëŸ¬ë¥¼ ìµœì¢… í™•ì •í•˜ëŠ” ê²°ì •ì  ë‹¨ì„œì˜ˆìš”! ì–´ë–¤ í†¤ì˜ ë¦½ê³¼ ë¸”ëŸ¬ì…”ê°€ ë‹¹ì‹ ì„ ê°€ì¥ ë¹›ë‚˜ê²Œ í•˜ë‚˜ìš”?",
                directorTip: "ğŸ’¡ ì—¬ëŸ¬ ì œí’ˆì„ ë°œìƒ‰í•´ë³´ê³  ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ê²ƒì„ ì„ íƒí•˜ì„¸ìš”!",
                options: [
                    { text: "ì½”ë„/ì˜¤ë Œì§€/í”¼ì¹˜ ê³„ì—´ (ë”°ëœ»í•˜ê³  ë°ìŒ)", scores: { spring: 4, summer: 0, autumn: 2, winter: 0 } },
                    { text: "ë¡œì¦ˆ/í•‘í¬/ë¼ë²¤ë” ê³„ì—´ (ë¶€ë“œëŸ½ê³  ì‹œì›í•¨)", scores: { spring: 1, summer: 4, autumn: 0, winter: 2 } },
                    { text: "ë¸Œë¼ìš´/ë²½ëŒë ˆë“œ/í…Œë¼ì½”íƒ€ ê³„ì—´ (ê¹Šê³  ë”°ëœ»í•¨)", scores: { spring: 1, summer: 0, autumn: 4, winter: 0 } },
                    { text: "ì™€ì¸/í“¨ìƒ¤/ë²„ê±´ë”” ê³„ì—´ (ì§„í•˜ê³  ì„ ëª…í•¨)", scores: { spring: 0, summer: 2, autumn: 0, winter: 4 } }
                ]
            }
        ];

        // ì±„ì•ˆ ì›ì¥ì˜ ì¡°ì–¸ ë©”ì‹œì§€
        const directorMessages = [
            "ì²«ì¸ìƒì´ ì¤‘ìš”í•´ìš”! í¸í•˜ê²Œ ì„ íƒí•´ì£¼ì„¸ìš” ğŸ’â€â™€ï¸",
            "ì¢‹ì•„ìš”! ê³„ì† ì§„í–‰í•´ë³¼ê¹Œìš”? ğŸ¨",
            "ë²Œì¨ ì ˆë°˜ì´ë‚˜ ì™”ì–´ìš”! ì¡°ê¸ˆë§Œ ë” í˜ë‚´ì„¸ìš” âœ¨",
            "ê±°ì˜ ë‹¤ ì™”ì–´ìš”! ë‹¹ì‹ ì˜ ì»¬ëŸ¬ê°€ ê¶ê¸ˆí•´ì§€ë„¤ìš” ğŸ’•",
            "ë§ˆì§€ë§‰ê¹Œì§€ ì§‘ì¤‘í•´ì£¼ì„¸ìš”! ê³§ ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦´ê²Œìš” ğŸŒˆ"
        ];

        // ê²°ê³¼ ë°ì´í„°
        const results = {
            spring: {
                type: "ë´„ ì›œí†¤ (Spring Warm)",
                subtitle: "ìƒê¸° ë„˜ì¹˜ëŠ” ë”°ëœ»í•œ ë´„ê½ƒê°™ì€ ë‹¹ì‹ ",
                description: "ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ë°ê³  í™”ì‚¬í•œ ìƒ‰ìƒì´ ì˜ ì–´ìš¸ë¦¬ëŠ” ë´„ ì›œí†¤ì´ì—ìš”. íˆ¬ëª…í•˜ê³  ë§‘ì€ í”¼ë¶€ì— ë”°ëœ»í•œ ë…¸ë€ ê¸°ìš´ì´ ê°ëŒì•„ ë§ˆì¹˜ ë´„ë‚ ì˜ í–‡ì‚´ì²˜ëŸ¼ ìƒê¸°ê°€ ë„˜ì¹˜ì£ . ì½”ë„, í”¼ì¹˜, ì•„ì´ë³´ë¦¬ ê°™ì€ ë°ê³  ìƒë™ê° ìˆëŠ” ìƒ‰ìƒì„ ì…ìœ¼ë©´ ì–¼êµ´ì´ ë”ìš± í™˜í•˜ê²Œ ë¹›ë‚  ê±°ì˜ˆìš”!",
                colors: {
                    main: [
                        { color: "#FFB6C1", name: "í”¼ì¹˜í•‘í¬" },
                        { color: "#FF7F50", name: "ì½”ë„" },
                        { color: "#FFF8DC", name: "ì•„ì´ë³´ë¦¬" },
                        { color: "#FFD700", name: "ê³¨ë“œ" },
                        { color: "#FFDAB9", name: "í”¼ì¹˜ë² ì´ì§€" },
                        { color: "#F0E68C", name: "ë ˆëª¬" },
                        { color: "#FFE4B5", name: "ëª¨ì¹´ì‹ " },
                        { color: "#FFDEAD", name: "ë‚˜ë°”í˜¸í™”ì´íŠ¸" }
                    ],
                    accent: [
                        { color: "#98FB98", name: "ë¯¼íŠ¸" },
                        { color: "#87CEEB", name: "ìŠ¤ì¹´ì´ë¸”ë£¨" },
                        { color: "#FFB347", name: "ì˜¤ë Œì§€" },
                        { color: "#FF6B9D", name: "í•‘í¬" }
                    ]
                },
                tips: [
                    "ê³¨ë“œ í†¤ ì•¡ì„¸ì„œë¦¬ì™€ ì£¼ì–¼ë¦¬ê°€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "ì½”ë„, í”¼ì¹˜ ì»¬ëŸ¬ì˜ ë¸”ëŸ¬ì…”ì™€ ë¦½ìŠ¤í‹±ì„ ì¶”ì²œí•©ë‹ˆë‹¤",
                    "ë°ì€ ë² ì´ì§€, ì¹´ë©œ ì»¬ëŸ¬ì˜ ë² ì´ìŠ¤ ë©”ì´í¬ì—…ì´ ì¢‹ìŠµë‹ˆë‹¤",
                    "ì•„ì´ë³´ë¦¬, í¬ë¦¼ìƒ‰ ì˜ë¥˜ê°€ í”¼ë¶€ë¥¼ í™”ì‚¬í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤",
                    "ë°ì€ ì¹´í‚¤, ì—°í•œ ì²­ë¡ìƒ‰ë„ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤"
                ],
                avoid: "ê²€ì •, ìˆœë°±ìƒ‰, ì°¨ê°€ìš´ íšŒìƒ‰, ë„¤ì˜¨ ì»¬ëŸ¬",
                celebrities: ["ì•„ì´ìœ ", "íƒœì—°", "ìˆ˜ì§€", "ë°•ë³´ì˜", "í˜œë¦¬"]
            },
            summer: {
                type: "ì—¬ë¦„ ì¿¨í†¤ (Summer Cool)",
                subtitle: "ìš°ì•„í•˜ê³  ë¶€ë“œëŸ¬ìš´ ì—¬ë¦„ ì•ˆê°œê°™ì€ ë‹¹ì‹ ",
                description: "ì •ë§ ìš°ì•„í•˜ì„¸ìš”! ë‹¹ì‹ ì€ ë¶€ë“œëŸ½ê³  ì€ì€í•œ ìƒ‰ìƒì´ ì™„ë²½í•˜ê²Œ ì–´ìš¸ë¦¬ëŠ” ì—¬ë¦„ ì¿¨í†¤ì´ì—ìš”. ë§‘ê³  íˆ¬ëª…í•œ í”¼ë¶€ì— ì‹œì›í•œ í‘¸ë¥¸ ê¸°ìš´ì´ ê°ëŒì•„ ë§ˆì¹˜ ì—¬ë¦„ë‚ ì˜ ì‹œì›í•œ ì•ˆê°œì²˜ëŸ¼ ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ë¥¼ ì—°ì¶œí•˜ì£ . ë¼ë²¤ë”, ë¡œì¦ˆí•‘í¬, ì†Œí”„íŠ¸ ë¸”ë£¨ ê°™ì€ ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…” í†¤ì´ ë‹¹ì‹ ì„ ë”ìš± ìš°ì•„í•˜ê²Œ ë§Œë“¤ì–´ì¤„ ê±°ì˜ˆìš”!",
                colors: {
                    main: [
                        { color: "#E6E6FA", name: "ë¼ë²¤ë”" },
                        { color: "#FFB6D9", name: "ë¡œì¦ˆí•‘í¬" },
                        { color: "#B0E0E6", name: "íŒŒìš°ë”ë¸”ë£¨" },
                        { color: "#DDA0DD", name: "í”ŒëŸ¼" },
                        { color: "#C0C0C0", name: "ì‹¤ë²„" },
                        { color: "#F5F5DC", name: "ë² ì´ì§€" },
                        { color: "#E0B0FF", name: "ëª¨ë¸Œ" },
                        { color: "#B19CD9", name: "í¼í”Œ" }
                    ],
                    accent: [
                        { color: "#98D8C8", name: "ë¯¼íŠ¸ë¸”ë£¨" },
                        { color: "#FFB6C1", name: "í•‘í¬" },
                        { color: "#D8BFD8", name: "ì‹œìŠ¬" },
                        { color: "#87CEEB", name: "í•˜ëŠ˜ìƒ‰" }
                    ]
                },
                tips: [
                    "ì‹¤ë²„ í†¤ ì•¡ì„¸ì„œë¦¬ê°€ í”¼ë¶€ë¥¼ ë”ìš± í™”ì‚¬í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤",
                    "ë¡œì¦ˆ, ëª¨ë¸Œ ì»¬ëŸ¬ì˜ ë¸”ëŸ¬ì…”ì™€ ë¦½ìŠ¤í‹±ì„ ì¶”ì²œí•©ë‹ˆë‹¤",
                    "í•‘í¬ ë² ì´ì§€ í†¤ì˜ ë² ì´ìŠ¤ ë©”ì´í¬ì—…ì´ ì¢‹ìŠµë‹ˆë‹¤",
                    "ê·¸ë ˆì´, ë„¤ì´ë¹„, ë¼ë²¤ë” ì˜ë¥˜ê°€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…” ì»¬ëŸ¬ë¥¼ í™œìš©í•˜ì„¸ìš”"
                ],
                avoid: "ì˜¤ë Œì§€, í™©ê¸ˆìƒ‰, ì„ ëª…í•œ ì›ìƒ‰, íƒí•œ ì¹´í‚¤",
                celebrities: ["ìœ¤ì•„", "ì„ìœ¤ì•„", "ë°•ì‹ í˜œ", "í•œì§€ë¯¼", "ê³ ì•„ë¼"]
            },
            autumn: {
                type: "ê°€ì„ ì›œí†¤ (Autumn Warm)",
                subtitle: "ê¹Šì´ ìˆëŠ” ë”°ëœ»í•œ ê°€ì„ ë‹¨í’ê°™ì€ ë‹¹ì‹ ",
                description: "ë©‹ì§€ì„¸ìš”! ë‹¹ì‹ ì€ ê¹Šê³  ì°¨ë¶„í•œ ìƒ‰ìƒì´ ì™„ë²½í•˜ê²Œ ì–´ìš¸ë¦¬ëŠ” ê°€ì„ ì›œí†¤ì´ì—ìš”. ë”°ëœ»í•˜ê³  í’ë¶€í•œ ëŠë‚Œì˜ í”¼ë¶€ì— í™©ê¸ˆë¹› ê¸°ìš´ì´ ê°ëŒì•„ ë§ˆì¹˜ ê°€ì„ ë‹¨í’ì²˜ëŸ¼ ê¹Šì´ ìˆê³  ë§¤ë ¥ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ì—°ì¶œí•˜ì£ . í…Œë¼ì½”íƒ€, ì¹´í‚¤, ë¨¸ìŠ¤íƒ€ë“œ ê°™ì€ ì–´ìŠ¤ í†¤ ì»¬ëŸ¬ê°€ ë‹¹ì‹ ì„ ë”ìš± ì„±ìˆ™í•˜ê³  ì„¸ë ¨ë˜ê²Œ ë§Œë“¤ì–´ì¤„ ê±°ì˜ˆìš”!",
                colors: {
                    main: [
                        { color: "#D2691E", name: "í…Œë¼ì½”íƒ€" },
                        { color: "#BDB76B", name: "ì¹´í‚¤" },
                        { color: "#CD853F", name: "ì¹´ë©œ" },
                        { color: "#8B4513", name: "ë¸Œë¼ìš´" },
                        { color: "#DAA520", name: "ê³¨ë“ ë¡œë“œ" },
                        { color: "#808000", name: "ì˜¬ë¦¬ë¸Œ" },
                        { color: "#BC8F8F", name: "ë¡œì¦ˆë¸Œë¼ìš´" },
                        { color: "#CD5C5C", name: "ì¸ë””ì–¸ë ˆë“œ" }
                    ],
                    accent: [
                        { color: "#DEB887", name: "ë²„ìš°ë“œ" },
                        { color: "#D2B48C", name: "íƒ„" },
                        { color: "#F4A460", name: "ìƒŒë””ë¸Œë¼ìš´" },
                        { color: "#B8860B", name: "ë‹¤í¬ê³¨ë“ ë¡œë“œ" }
                    ]
                },
                tips: [
                    "ê³¨ë“œ í†¤ ì•¡ì„¸ì„œë¦¬ê°€ í”¼ë¶€ í†¤ê³¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "ë¸Œë¼ìš´, ë²½ëŒìƒ‰ ë¦½ìŠ¤í‹±ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "í™©ê¸ˆë¹› ë² ì´ì§€ í†¤ì˜ ë² ì´ìŠ¤ ë©”ì´í¬ì—…ì„ ì¶”ì²œí•©ë‹ˆë‹¤",
                    "ì¹´í‚¤, ë¸Œë¼ìš´, ë¨¸ìŠ¤íƒ€ë“œ ì»¬ëŸ¬ë¥¼ í™œìš©í•˜ì„¸ìš”",
                    "ì–´ìŠ¤í†¤ ì»¬ëŸ¬ì˜ ì˜ë¥˜ê°€ ì„¸ë ¨ë˜ì–´ ë³´ì…ë‹ˆë‹¤"
                ],
                avoid: "í˜•ê´‘ìƒ‰, íŒŒìŠ¤í…” í†¤, ìˆœë°±ìƒ‰, ë„¤ì˜¨ í•‘í¬",
                celebrities: ["ì „ì§€í˜„", "ê¹€íƒœí¬", "ì†¡í˜œêµ", "í•œì˜ˆìŠ¬", "í´ë¼ë¼"]
            },
            winter: {
                type: "ê²¨ìš¸ ì¿¨í†¤ (Winter Cool)",
                subtitle: "ë˜ë ·í•˜ê³  ì°¨ê°€ìš´ ê²¨ìš¸ ëˆˆê½ƒê°™ì€ ë‹¹ì‹ ",
                description: "ì •ë§ ì‹œí¬í•˜ì‹œë„¤ìš”! ë‹¹ì‹ ì€ ì„ ëª…í•˜ê³  ê°•ë ¬í•œ ìƒ‰ìƒì´ ì™„ë²½í•˜ê²Œ ì–´ìš¸ë¦¬ëŠ” ê²¨ìš¸ ì¿¨í†¤ì´ì—ìš”. ê¹¨ë—í•˜ê³  ë§‘ì€ í”¼ë¶€ì— ì°¨ê°€ìš´ ê¸°ìš´ì´ ê°ëŒì•„ ë§ˆì¹˜ ê²¨ìš¸ë‚ ì˜ ë§‘ì€ ê³µê¸°ì²˜ëŸ¼ ë˜ë ·í•˜ê³  ì„¸ë ¨ëœ ë¶„ìœ„ê¸°ë¥¼ ì—°ì¶œí•˜ì£ . ë¡œì—´ ë¸”ë£¨, ì™€ì¸, í“¨ìƒ¤ ê°™ì€ ë¹„ë¹„ë“œí•œ ìƒ‰ìƒì´ ë‹¹ì‹ ì„ ë”ìš± ë„ì‹œì ì´ê³  ìƒ¤í”„í•˜ê²Œ ë§Œë“¤ì–´ì¤„ ê±°ì˜ˆìš”!",
                colors: {
                    main: [
                        { color: "#000080", name: "ë„¤ì´ë¹„" },
                        { color: "#FF1493", name: "í“¨ìƒ¤" },
                        { color: "#8B008B", name: "ì™€ì¸" },
                        { color: "#000000", name: "ë¸”ë™" },
                        { color: "#FFFFFF", name: "í™”ì´íŠ¸" },
                        { color: "#4169E1", name: "ë¡œì—´ë¸”ë£¨" },
                        { color: "#8B0000", name: "ë‹¤í¬ë ˆë“œ" },
                        { color: "#4B0082", name: "ì¸ë””ê³ " }
                    ],
                    accent: [
                        { color: "#00CED1", name: "ë‹¤í¬í„°ì¿¼ì´ì¦ˆ" },
                        { color: "#DC143C", name: "í¬ë¦¼ìŠ¨" },
                        { color: "#9370DB", name: "í¼í”Œ" },
                        { color: "#FF69B4", name: "í•«í•‘í¬" }
                    ]
                },
                tips: [
                    "ì‹¤ë²„, í”Œë˜í‹°ë„˜ ì•¡ì„¸ì„œë¦¬ê°€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "ë¹„ë¹„ë“œí•œ í•‘í¬, ë ˆë“œ ë¦½ìŠ¤í‹±ì„ ì¶”ì²œí•©ë‹ˆë‹¤",
                    "ì¿¨í†¤ ë² ì´ì§€ì˜ ë² ì´ìŠ¤ ë©”ì´í¬ì—…ì´ ì¢‹ìŠµë‹ˆë‹¤",
                    "ë¸”ë™, í™”ì´íŠ¸, ë„¤ì´ë¹„ê°€ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤",
                    "ì„ ëª…í•œ ì»¬ëŸ¬ê°€ ì–¼êµ´ì„ ë˜ë ·í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤"
                ],
                avoid: "ì˜¤ë Œì§€, í™©ê¸ˆìƒ‰, ì¹´í‚¤, íƒí•œ ë² ì´ì§€",
                celebrities: ["ê¹€ì—°ì•„", "ì„¤í˜„", "ì§€ìˆ˜", "ê¹€ë‹¤ë¯¸", "í•œì†Œí¬"]
            }
        };

        // ìƒíƒœ ê´€ë¦¬
        let currentQuestion = 0;
        let answers = [];
        let scores = { spring: 0, summer: 0, autumn: 0, winter: 0 };

        // ì‚¬ìš´ë“œ ìƒì„± í•¨ìˆ˜ (Web Audio API)
        function playClickSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 800;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function playSuccessSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 1000;
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

            oscillator.start(audioContext.currentTime);
            oscillator.frequency.setValueAtTime(1200, audioContext.currentTime + 0.1);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        // í™”ë©´ ì „í™˜
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘
        function startTest() {
            currentQuestion = 0;
            answers = [];
            scores = { spring: 0, summer: 0, autumn: 0, winter: 0 };
            showScreen('questionScreen');

            // ì±„ì•ˆ ì›ì¥ íŒ¨ë„ í‘œì‹œ
            document.getElementById('directorPanel').classList.add('active');

            displayQuestion();
            playSuccessSound();
        }

        // ì§ˆë¬¸ í‘œì‹œ
        function displayQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;

            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `${currentQuestion + 1} / ${questions.length}`;
            document.getElementById('questionText').textContent = question.question;

            // ì±„ì•ˆ ì›ì¥ì˜ ì¡°ì–¸ ë©”ì‹œì§€ (ì§ˆë¬¸í™”ë©´ìš©)
            const messageIndex = Math.floor((currentQuestion / questions.length) * directorMessages.length);
            const adviceElement = document.getElementById('directorAdvice');
            if (adviceElement) {
                adviceElement.textContent = 'ì±„ì•ˆ ì›ì¥: ' + directorMessages[Math.min(messageIndex, directorMessages.length - 1)];
            }

            // ì±„ì•ˆ ì›ì¥ íŒ¨ë„ ì—…ë°ì´íŠ¸
            document.getElementById('directorComment').textContent = question.directorComment;
            document.getElementById('directorExtraTip').textContent = question.directorTip;

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option.text;
                optionDiv.onclick = () => selectOption(index);

                if (answers[currentQuestion] === index) {
                    optionDiv.classList.add('selected');
                }

                optionsContainer.appendChild(optionDiv);
            });

            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.getElementById('prevBtn').style.display = currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('nextBtn').disabled = answers[currentQuestion] === undefined;
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ';
        }

        // ì„ íƒì§€ ì„ íƒ
        function selectOption(optionIndex) {
            answers[currentQuestion] = optionIndex;

            // ì‚¬ìš´ë“œ ì¬ìƒ
            playClickSound();

            // ì„ íƒëœ ì˜µì…˜ í‘œì‹œ
            document.querySelectorAll('.option').forEach((option, index) => {
                if (index === optionIndex) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });

            document.getElementById('nextBtn').disabled = false;
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (answers[currentQuestion] === undefined) return;

            playClickSound();

            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                playSuccessSound();
                calculateResult();
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        // ê²°ê³¼ ê³„ì‚°
        function calculateResult() {
            // ì ìˆ˜ ì´ˆê¸°í™”
            scores = { spring: 0, summer: 0, autumn: 0, winter: 0 };

            // ê° ë‹µë³€ì˜ ì ìˆ˜ í•©ì‚°
            answers.forEach((answerIndex, questionIndex) => {
                const question = questions[questionIndex];
                const selectedOption = question.options[answerIndex];

                scores.spring += selectedOption.scores.spring;
                scores.summer += selectedOption.scores.summer;
                scores.autumn += selectedOption.scores.autumn;
                scores.winter += selectedOption.scores.winter;
            });

            // ê°€ì¥ ë†’ì€ ì ìˆ˜ì˜ íƒ€ì… ì°¾ê¸°
            let maxScore = 0;
            let resultType = '';

            for (const [type, score] of Object.entries(scores)) {
                if (score > maxScore) {
                    maxScore = score;
                    resultType = type;
                }
            }

            // ê²°ê³¼ ì €ì¥
            localStorage.setItem('personalColorResult', resultType);
            localStorage.setItem('personalColorDate', new Date().toISOString());

            displayResult(resultType);
        }

        // ê²°ê³¼ í‘œì‹œ
        function displayResult(type) {
            const result = results[type];

            document.getElementById('resultType').textContent = result.type;
            document.getElementById('resultSubtitle').textContent = result.subtitle;
            document.getElementById('resultDescription').textContent = result.description;

            // ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ (ë©”ì¸ + ì•…ì„¼íŠ¸)
            const allPalettes = document.getElementById('allPalettes');
            allPalettes.innerHTML = '';

            // ë©”ì¸ ì»¬ëŸ¬
            const mainSection = document.createElement('div');
            mainSection.className = 'palette-section';
            mainSection.innerHTML = '<div class="palette-title">âœ¨ ê¸°ë³¸ ì¶”ì²œ ì»¬ëŸ¬</div><div class="color-palette" id="mainPalette"></div>';
            allPalettes.appendChild(mainSection);

            const mainPalette = mainSection.querySelector('#mainPalette');
            result.colors.main.forEach(colorItem => {
                const div = document.createElement('div');
                div.className = 'color-item';
                div.style.background = colorItem.color;
                div.innerHTML = `<span class="color-name">${colorItem.name}</span>`;
                mainPalette.appendChild(div);
            });

            // ì•…ì„¼íŠ¸ ì»¬ëŸ¬
            const accentSection = document.createElement('div');
            accentSection.className = 'palette-section';
            accentSection.innerHTML = '<div class="palette-title">ğŸ’« í¬ì¸íŠ¸ ì»¬ëŸ¬</div><div class="color-palette" id="accentPalette"></div>';
            allPalettes.appendChild(accentSection);

            const accentPalette = accentSection.querySelector('#accentPalette');
            result.colors.accent.forEach(colorItem => {
                const div = document.createElement('div');
                div.className = 'color-item';
                div.style.background = colorItem.color;
                div.innerHTML = `<span class="color-name">${colorItem.name}</span>`;
                accentPalette.appendChild(div);
            });

            // ìŠ¤íƒ€ì¼ë§ íŒ
            const tipsList = document.getElementById('tipsList');
            tipsList.innerHTML = '';
            result.tips.forEach(tip => {
                const li = document.createElement('li');
                li.textContent = tip;
                tipsList.appendChild(li);
            });

            // í”¼í•´ì•¼ í•  ìƒ‰ìƒ
            document.getElementById('avoidColors').textContent = result.avoid;

            // ìœ ëª…ì¸
            const celebritiesContainer = document.getElementById('celebrities');
            celebritiesContainer.innerHTML = '';
            result.celebrities.forEach(celebrity => {
                const span = document.createElement('span');
                span.className = 'celebrity-tag';
                span.textContent = celebrity;
                celebritiesContainer.appendChild(span);
            });

            showScreen('resultScreen');
        }

        // ë‹¤ì‹œ í…ŒìŠ¤íŠ¸
        function restartTest() {
            startTest();
        }

        // ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
        function shareKakao() {
            const resultType = localStorage.getItem('personalColorResult');
            const result = results[resultType];

            alert('ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥ì€ ì¹´ì¹´ì˜¤ ê°œë°œì ë“±ë¡ í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\n\në‚´ ê²°ê³¼: ' + result.type);
        }

        // ê²°ê³¼ ë‹¤ìš´ë¡œë“œ
        function downloadResult() {
            const resultType = localStorage.getItem('personalColorResult');
            const result = results[resultType];

            let resultText = `=== í¼ìŠ¤ë„ ì»¬ëŸ¬ ì§„ë‹¨ ê²°ê³¼ ===\n\n`;
            resultText += `íƒ€ì…: ${result.type}\n`;
            resultText += `${result.subtitle}\n\n`;
            resultText += `íŠ¹ì§•:\n${result.description}\n\n`;
            resultText += `ì¶”ì²œ ì»¬ëŸ¬:\n`;
            result.colors.forEach(c => resultText += `- ${c.name}\n`);
            resultText += `\nìŠ¤íƒ€ì¼ë§ íŒ:\n`;
            result.tips.forEach(t => resultText += `- ${t}\n`);
            resultText += `\ní”¼í•´ì•¼ í•  ìƒ‰ìƒ: ${result.avoid}\n`;
            resultText += `\nê°™ì€ íƒ€ì… ìœ ëª…ì¸: ${result.celebrities.join(', ')}\n`;

            const blob = new Blob([resultText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'í¼ìŠ¤ë„ì»¬ëŸ¬_ê²°ê³¼.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        // ì´ì „ ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸° (í˜ì´ì§€ ë¡œë“œ ì‹œ)
        window.onload = function() {
            const savedResult = localStorage.getItem('personalColorResult');
            if (savedResult) {
                console.log('ì´ì „ ê²°ê³¼:', savedResult);
            }
        };
    </script>
</body>
</html>
